(this.webpackJsonpplanning=this.webpackJsonpplanning||[]).push([[8],{110:function(e,a,t){"use strict";var n=t(105),r=t(0),l=t.n(r),c=t(134),i=t(85),o=t(191),u=t(109),m=t(66);a.a=function(e){var a=e.children,t=Object(n.a)(e,["children"]),r=Object(c.a)(),s=r.isOpen,f=r.onOpen,p=r.onClose,E=l.a.useRef();return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,Object.assign({},t,{ref:E,onClick:f}),a),l.a.createElement(o.a,{isOpen:s,placement:"right",onClose:p,finalFocusRef:E},l.a.createElement(o.d,null),l.a.createElement(o.c,null,l.a.createElement(o.b,null),l.a.createElement(u.f,null,"Fonctionnalit\xe9 non disponible"),l.a.createElement(u.b,null,l.a.createElement(m.a,null,"Cette fonctionnalit\xe9 n'est pas encore disponible."),l.a.createElement(m.a,null,"Pour vous positionner sur un cr\xe9neau pour votre PIAF, merci de vous rendre sur le Planning du Lab (comme historiquement)."),l.a.createElement(m.a,{mt:4},"Nous esp\xe9rons qu'il sera bient\xf4t possible de tout faire depuis cette page.")),l.a.createElement(u.e,null,l.a.createElement(i.a,{variant:"outline",mr:3,onClick:p},"Fermer")))))}},189:function(e,a,t){"use strict";t.r(a);var n=t(38),r=t(105),l=t(0),c=t.n(l),i=t(31),o=t(37),u=t(192),m=t(5),s=t(90),f=t(91),p=t(66),E=t(92),b=t(45),d=t(61),h=t(60),y=t(98),g=t(32),O=t(186),j=t(167),v=t(184),w=t(101),M=t(100);function x(e,a){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var t=Object(M.a)(e),n=Object(w.a)(a);return t.setDate(t.getDate()+n),t}function A(e,a){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return x(e,-Object(w.a)(a))}var D=t(185),k=t(110),q={locale:D.a},C=function(e){var a=e.horaires,t=a.debut,n=a.fin,l=Object(r.a)(e,["horaires"]),i=function(e){return Object(O.a)(Object(j.a)(e,q),"HH'h'mm",q)};return c.a.createElement(u.a,Object.assign({variant:"solid"},l),i(t),"-",i(n))},F=function(e){var a,t=e.poste;return c.a.createElement(m.a,{py:2},c.a.createElement(s.a,{fontSize:"l"},c.a.createElement(C,{horaires:t.horaires,mr:2}),t.nom),t.piaffeur.nomAffichage&&c.a.createElement(f.a,{isInline:!0,justify:"space-between"},c.a.createElement(p.a,{flex:"1"},t.piaffeur.nomAffichage),t.piaffeur.telephone?c.a.createElement(E.a,{flex:"1",href:(a=t.piaffeur.telephone,a&&"tel:+33".concat(a.replace(/[^\d]/g,"").substr(1)))},c.a.createElement(b.a,{name:"phone",mr:2}),t.piaffeur.telephone):c.a.createElement(p.a,{flex:"1"},c.a.createElement(b.a,{name:"phone",mr:2})," N/A"),t.piaffeur.email?c.a.createElement(E.a,{href:"mailto:".concat(t.piaffeur.email),title:t.piaffeur.email},c.a.createElement(b.a,{name:"email"})):c.a.createElement(p.a,null,"N/A")),t.notes&&c.a.createElement(p.a,null,"Note\xa0: ",t.notes),!t.piaffeur.nomAffichage&&c.a.createElement(k.a,{mt:2,mb:4},"Se positionner sur cette PIAF"))},J=function(e){var a=e.creneaux;return c.a.createElement(f.a,{spacing:8},a.map((function(e,a){return c.a.createElement(m.a,{key:a,p:5,shadow:"md",borderWidth:"1px"},c.a.createElement(s.a,{fontSize:"xl"},e.nom),c.a.createElement(f.a,{mt:4,spacing:4},e.postes.map((function(e,a){return c.a.createElement(F,{poste:e,key:a})}))))})))};a.default=function(){var e=Object(i.f)().date,a="aujourdhui"===e?Object(O.a)(new Date,"yyyy-MM-dd",q):e,t=Object(g.d)({query:"\n  query PlanningJour($date: Date!) {\n    planningDuJour(date: $date) {\n     date\n     labOuvert\n     ... on JourOuverture {\n       creneaux {\n         nom\n         postes {\n           nom\n           horaires {\n             debut\n             fin\n           }\n           piaffeur {\n             nom\n             prenom\n             nomAffichage\n             telephone\n             email\n           }\n           notes\n         }\n       }\n     }\n   }\n  }\n",variables:{date:a}}),r=Object(n.a)(t,1)[0];if(r.fetching)return c.a.createElement(m.a,{textAlign:"center"},c.a.createElement(d.a,null),c.a.createElement(m.a,null,"R\xe9cup\xe9ration des informations de la journ\xe9e\u2026"));if(r.error)return c.a.createElement("span",null,r.error.message);var l=r.data.planningDuJour,u=Object(v.a)(a,"yyyy-MM-dd",new Date,q);return c.a.createElement(m.a,null,c.a.createElement(m.a,{mb:4},c.a.createElement(h.a,{justifyContent:"space-between",alignItems:"center"},c.a.createElement(E.a,{as:o.b,to:Object(O.a)(A(u,1),"yyyy-MM-dd"),title:"Voir le jour pr\xe9c\xe9dent",p:4},c.a.createElement(b.a,{name:"arrow-left"})),c.a.createElement(s.a,{size:"2xl"},Object(O.a)(Object(v.a)(l.date,"yyyy-MM-dd",new Date,q),"dd/MM/yyyy",q)),c.a.createElement(E.a,{as:o.b,to:Object(O.a)(x(u,1),"yyyy-MM-dd"),title:"Voir le jour suivant",p:4},c.a.createElement(b.a,{name:"arrow-right"}))),c.a.createElement(E.a,{as:o.b,to:"/"},c.a.createElement(b.a,{name:"arrow-back",mr:2}),"Retourner \xe0 l'accueil")),l.labOuvert&&c.a.createElement(J,{creneaux:l.creneaux}),!l.labOuvert&&c.a.createElement(y.a,{status:"error",variant:"left-accent"},c.a.createElement(y.c,null),c.a.createElement(y.d,{mr:2},"Lab ferm\xe9 !"),c.a.createElement(y.b,null,"Le Lab est ferm\xe9 \xe0 cette date. Veuillez v\xe9rifiez la date saisie.")))}}}]);
//# sourceMappingURL=8.b698364b.chunk.js.map