(this.webpackJsonpplanning=this.webpackJsonpplanning||[]).push([[9],{110:function(e,n,t){"use strict";var a=t(105),r=t(0),c=t.n(r),l=t(134),u=t(85),o=t(191),i=t(109),s=t(66);n.a=function(e){var n=e.children,t=Object(a.a)(e,["children"]),r=Object(l.a)(),m=r.isOpen,d=r.onOpen,E=r.onClose,p=c.a.useRef();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,Object.assign({},t,{ref:p,onClick:d}),n),c.a.createElement(o.a,{isOpen:m,placement:"right",onClose:E,finalFocusRef:p},c.a.createElement(o.d,null),c.a.createElement(o.c,null,c.a.createElement(o.b,null),c.a.createElement(i.f,null,"Fonctionnalit\xe9 non disponible"),c.a.createElement(i.b,null,c.a.createElement(s.a,null,"Cette fonctionnalit\xe9 n'est pas encore disponible."),c.a.createElement(s.a,null,"Pour vous positionner sur un cr\xe9neau pour votre PIAF, merci de vous rendre sur le Planning du Lab (comme historiquement)."),c.a.createElement(s.a,{mt:4},"Nous esp\xe9rons qu'il sera bient\xf4t possible de tout faire depuis cette page.")),c.a.createElement(i.e,null,c.a.createElement(u.a,{variant:"outline",mr:3,onClick:E},"Fermer")))))}},166:function(e,n,t){"use strict";t.r(n);var a=t(50),r=t(38),c=t(105),l=t(0),u=t.n(l),o=t(37),i=t(192),s=t(5),m=t(90),d=t(66),E=t(92),p=t(93),f=t(190),b=t(91),g=t(61),v=t(45),h=t(85),O=t(32),j=t(186),C=t(167),y=t(168),k=t(169),P=t(170),w=t(171),M=t(185),A=t(132),F=t(110),S={locale:M.a},q=function(e){var n=e.horaires,t=n.debut,a=n.fin,r=Object(c.a)(e,["horaires"]),l=function(e){return Object(j.a)(Object(C.a)(e,S),"HH'h'mm",S)};return u.a.createElement(i.a,Object.assign({variant:"solid"},r),l(t),"-",l(a))},x=function(e){var n=e.poste;return u.a.createElement(s.a,{py:4},u.a.createElement(m.a,{fontSize:"xl"},n.nomDuCreneau," (",n.nom,")"),u.a.createElement(d.a,{fontSize:"lg"},u.a.createElement(E.a,{as:o.b,to:"/planning/".concat(Object(j.a)(n.date,"yyyy-MM-dd",S))},Object(j.a)(n.date,"dd/MM/yyyy",S)),u.a.createElement(q,{horaires:n.horaires,ml:2}),u.a.createElement(F.a,{size:"xs",ml:2},"Se positionner sur cette PIAF")),n.notes&&u.a.createElement(d.a,null,"Note\xa0: ",n.notes))},D=function(e){var n=e.value,t=e.children,a=e.onChange;return u.a.createElement(s.a,{mr:8},u.a.createElement(p.a,{htmlFor:n},t),u.a.createElement(f.a,{id:n,value:n,color:"teal",defaultIsChecked:!0,onChange:a}))},z=function(e){var n=e.postes,t=e.filters,a=e.onChange,r=Object(A.uniq)(n.map((function(e){return e.nomDuCreneau}))),c=Object(A.uniq)(n.map((function(e){return e.nom.startsWith("Caisse")?"Caisse":e.nom.trim()}))),l=function(e){return function(n){var r=new Map(t);n.target.checked?r.delete(n.target.value):r.set(n.target.value,e),a(r)}};return u.a.createElement(b.a,{spacing:3,p:2},u.a.createElement(s.a,null,u.a.createElement(d.a,null,"Jours de la semaine :"),u.a.createElement(b.a,{spacing:4,direction:"row"},u.a.createElement(D,{value:"mercredi",onChange:l((function(e){return Object(y.a)(e.date)}))},"Mercredi"),u.a.createElement(D,{value:"jeudi",onChange:l((function(e){return Object(k.a)(e.date)}))},"Jeudi"),u.a.createElement(D,{value:"vendredi",onChange:l((function(e){return Object(P.a)(e.date)}))},"Vendredi"),u.a.createElement(D,{value:"samedi",onChange:l((function(e){return Object(w.a)(e.date)}))},"Samedi"))),u.a.createElement(s.a,null,u.a.createElement(d.a,null,"Cr\xe9neau :"),u.a.createElement(b.a,{spacing:4,direction:"row"},r.map((function(e){return u.a.createElement(D,{key:e,value:"creneau-".concat(e),onChange:l((function(n){return n.nomDuCreneau===e}))},e)})))),u.a.createElement(s.a,null,u.a.createElement(d.a,null,"Type de Poste :"),u.a.createElement(b.a,{spacing:4,direction:"row"},c.map((function(e){return u.a.createElement(D,{key:e,value:"type-".concat(e),onChange:l((function(n){return n.nom.startsWith(e)}))},e)})))))};n.default=function(){var e=Object(O.d)({query:"\n  query PostesAPourvoir {\n    postesAPourvoir {\n      nom\n      nomDuCreneau\n      date\n      horaires {\n        debut\n        fin\n      }\n    }\n  }\n"}),n=Object(r.a)(e,1)[0],t=Object(l.useState)(new Map),c=Object(r.a)(t,2),i=c[0],d=c[1],p=Object(l.useState)(20),f=Object(r.a)(p,2),j=f[0],y=f[1];if(Object(l.useEffect)((function(){return y(20)}),[i]),n.fetching)return u.a.createElement(s.a,{textAlign:"center"},u.a.createElement(g.a,null),u.a.createElement(s.a,null,"R\xe9cup\xe9ration des postes \xe0 pourvoir dans les cr\xe9neaux d'ouverture\u2026"));if(n.error)return u.a.createElement("span",null,n.error.message);var k=n.data.postesAPourvoir.map((function(e){return Object(a.a)({},e,{date:Object(C.a)(e.date,"yyyy-MM-dd",new Date)})})),P=Object(A.take)(Array.from(i.values()).reduce((function(e,n){return e.filter((function(e){return!n(e)}))}),k),j);return u.a.createElement(s.a,null,u.a.createElement(s.a,{mb:4},u.a.createElement(m.a,{size:"2xl"},"Se positionner pour une PIAF"),u.a.createElement(E.a,{as:o.b,to:"/"},u.a.createElement(v.a,{name:"arrow-back",mr:2}),"Retourner \xe0 l'accueil")),u.a.createElement(z,{postes:k,filters:i,onChange:function(e){return d(e)}}),u.a.createElement(b.a,{mt:4,spacing:4},P.map((function(e,n){return u.a.createElement(x,{poste:e,key:n})})),P.length===j&&u.a.createElement(h.a,{onClick:function(){return y((function(e){return e+20}))}},"Voir plus")))}}}]);
//# sourceMappingURL=9.a9e1fc46.chunk.js.map